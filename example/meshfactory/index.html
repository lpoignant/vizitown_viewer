<html>

<head>
    <title></title>
    <script type="text/javascript" src="../../src/vectors/MeshFactory.js"></script>
    <script type="text/javascript" src="../../dist/three.js"></script>
    <script type="text/javascript" src="../js/TrackballControls.js"></script>

</head>

<body>

<div id="main_map"></div>
<script type="text/javascript">

    //point
    var json1 = {
        "metadata" :{
            "formatVersion" : 3.1,
            "generatedBy"   : "Vizitown Creation",
            "vertices"      : 1, 
            "faces"         : 0,
            "normals"       : 0,
            "colors"        : 0, 
            "uvs"           : 0,
            "materials"     : 0,
            "morphTargets"  : 0,
            "bones"         : 0
        },
        "vertices" : [844134.284462888841517,6516568.605687109753489,0],
        "morphTargets" : [],
        "normals" : [],
        "colors" : [],
        "uvs" : [],
        "faces" : [], 
        "bones" : [],
        "skinIndices" : [],
        "skinWeights" : [],
        "animations" : []
    };

    //line
    var json2 = {
        "metadata" :{
            "formatVersion" : 3.1,
            "generatedBy"   : "Vizitown Creation",
            "vertices"      : 9,
            "faces"         : 0,
            "normals"       : 0,
            "colors"        : 0,
            "uvs"           : 0,
            "materials"     : 0,
            "morphTargets"  : 0,
            "bones"         : 0
        },
        "vertices" : [844187.943697994574904,6518232.016619521193206,0,844201.841662708669901,6518224.785503129474819,0,844278.95548352599144,6518186.30289267282933,0,844300.016633692430332,6518175.119627367705107,0,844311.424576590536162,6518169.747550436295569,0,844410.036452979431488,6518129.295050370506942,0,844448.537077572080307,6518116.9088667454198,0,844508.316286795539781,6518103.210729259997606,0,844559.869014470255934,6518091.156238601543009,0],
        "morphTargets" : [],
        "normals" : [],
        "colors" : [],
        "uvs" : [],
        "faces" : [],
        "bones" : [],
        "skinIndices" : [],
        "skinWeights" : [],
        "animations" : []
    };


        //line
    var json4 = {
        "metadata" :{
            "formatVersion" : 3.1,
            "generatedBy"   : "Vizitown Creation",
            "vertices"      : 5,
            "faces"         : 0,
            "normals"       : 0,
            "colors"        : 0,
            "uvs"           : 0,
            "materials"     : 0,
            "morphTargets"  : 0,
            "bones"         : 0
        },
        "vertices" : [0,0,0,1,1,0,2,2,0,3,3,0,4,4,0],
        "morphTargets" : [],
        "normals" : [],
        "colors" : [],
        "uvs" : [],
        "faces" : [],
        "bones" : [],
        "skinIndices" : [],
        "skinWeights" : [],
        "animations" : []
    };

        //point
    var json5 = {
        "metadata" :{
            "formatVersion" : 3.1,
            "generatedBy"   : "Vizitown Creation",
            "vertices"      : 1, 
            "faces"         : 0,
            "normals"       : 0,
            "colors"        : 0, 
            "uvs"           : 0,
            "materials"     : 0,
            "morphTargets"  : 0,
            "bones"         : 0
        },
        "vertices" : [10,10,5],
        "morphTargets" : [],
        "normals" : [],
        "colors" : [],
        "uvs" : [],
        "faces" : [], 
        "bones" : [],
        "skinIndices" : [],
        "skinWeights" : [],
        "animations" : []
    };


    //polyh
    var json3 = {
    "metadata" :
    {
        "formatVersion" : 3.1,
        "generatedBy"   : "Vizitown Creation",
        "vertices"      : 36,
        "faces"         : 12,
        "normals"       : 0,
        "colors"        : 0,
        "uvs"           : 0,
        "materials"     : 0,
        "morphTargets"  : 0,
        "bones"         : 0
    },
    "vertices" : [-149992.141194042400457,7859668.6658656578511,0,-149981.131755757261999,7859668.649239290505648,0,-149981.131755757261999,7859668.649239290505648,8,-149992.141194042400457,7859668.6658656578511,8,-149992.141194042400457,7859668.6658656578511,0,-149981.131755757261999,7859668.649239290505648,8,-149992.125124575686641,7859679.306463955901563,8,-149981.131755757261999,7859668.649239290505648,8,-149981.115686494740658,7859679.289837553165853,8,-149992.125124575686641,7859679.306463955901563,8,-149992.141194042400457,7859668.6658656578511,8,-149981.131755757261999,7859668.649239290505648,8,-149981.115686494740658,7859679.289837553165853,8,-149981.131755757261999,7859668.649239290505648,0,-149981.115686494740658,7859679.289837553165853,0,-149981.115686494740658,7859679.289837553165853,8,-149981.131755757261999,7859668.649239290505648,8,-149981.131755757261999,7859668.649239290505648,0,-149992.125124575686641,7859679.306463955901563,0,-149992.141194042400457,7859668.6658656578511,8,-149992.125124575686641,7859679.306463955901563,8,-149992.125124575686641,7859679.306463955901563,0,-149992.141194042400457,7859668.6658656578511,0,-149992.141194042400457,7859668.6658656578511,8,-149981.115686494740658,7859679.289837553165853,0,-149992.125124575686641,7859679.306463955901563,8,-149981.115686494740658,7859679.289837553165853,8,-149981.115686494740658,7859679.289837553165853,0,-149992.125124575686641,7859679.306463955901563,0,-149992.125124575686641,7859679.306463955901563,8,-149981.131755757261999,7859668.649239290505648,0,-149992.125124575686641,7859679.306463955901563,0,-149981.115686494740658,7859679.289837553165853,0,-149981.131755757261999,7859668.649239290505648,0,-149992.141194042400457,7859668.6658656578511,0,-149992.125124575686641,7859679.306463955901563,0],
    "morphTargets" : [],
    "normals" : [],
    "colors" : [],
    "uvs" : [],
    "faces" : [0,0,1,2,0,3,4,5,0,6,7,8,0,9,10,11,0,12,13,14,0,15,16,17,0,18,19,20,0,21,22,23,0,24,25,26,0,27,28,29,0,30,31,32,0,33,34,35],
    "bones" : [],
    "skinIndices" : [],
    "skinWeights" : [],
    "animations" : []
    };


    var meshFactory = new MeshFactory();
    var meshPoint = meshFactory.jsonToMesh(json1);
    var meshLine = meshFactory.jsonToMesh(json2);
    var meshPolyh = meshFactory.jsonToMesh(json3);
    var line2 = meshFactory.jsonToMesh(json4);
    var point2 = meshFactory.jsonToMesh(json5);


    // create a scene, that will hold all our elements such as objects, cameras and lights.
    var scene = new THREE.Scene();

    // create a camera, which defines where we're looking at.
    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);

    // create a render and set the size
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);

    document.getElementById("main_map").appendChild(renderer.domElement);

    var axes = new THREE.AxisHelper( 20 );
    scene.add(axes);

    //scene.add(meshLine);
    //scene.add(meshPolyh);
    //scene.add(meshPoint);
    //scene.add(line2);
    //scene.add(point2);


    var cubeGeometry = new THREE.CubeGeometry(4,4,4);
    var cubeMaterial = new THREE.MeshBasicMaterial({color: 0xff0000,wireframe: true});
    var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);

    console.log(cube);
    console.log(point2);
    console.log(line2);
    scene.add(cube);
    //scene.add(point2);
    scene.add(line2);

    //camera.position.x = 844187;
    //camera.position.y = 6518224;
    //camera.position.z = 10;
   // camera.lookAt(scene);

           camera.position.x = -30;
        camera.position.y = 40;
        camera.position.z = 30;

       //camera.position.x = 844187;
    //camera.position.y = 6518224;
    //camera.position.z = 10;
  
 

    var clock = new THREE.Clock();
    var trackballControls = new THREE.TrackballControls(camera);

    trackballControls.rotateSpeed = 1.0;
    trackballControls.zoomSpeed = 1.0;
    trackballControls.panSpeed = 1.0;
    trackballControls.staticMoving = true;

    function render() {
        var delta = clock.getDelta();
        trackballControls.update(delta);
        requestAnimationFrame(render);
        renderer.render(scene, camera)
    }

    document.addEventListener('keyup', function(e) {
        var ascii_value = e.keyCode;
        if(String.fromCharCode(ascii_value) == 'K' ) {
           //
        }
    }, false);

    render();

    console.log(camera);

</script>

</body>
</html>